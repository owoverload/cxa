{"ast":null,"code":"import _slicedToArray from \"/Users/ericaong/Desktop/cxa/Edge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ericaong/Desktop/cxa/Edge/src/Transaction.js\";\nimport React, { useState, useEffect } from 'react'; // import logo from './logo.svg';\n\nimport './Transaction.css';\nimport { TransactionContract } from \"./setup\";\nimport { ShowTransactions } from \"./ShowTransactions\";\n\nfunction Transaction(props) {\n  let _useState = useState([{\n    name: \"Swee Boon Keat's Chicken Rice\",\n    amount: 0\n  }, {\n    name: \"Julianne's Laksa\",\n    amount: 0\n  }, {\n    name: \"Lee's Banmian\",\n    amount: 0\n  }, {\n    name: 'ECP Prawn Noodles',\n    amount: 0\n  }, {\n    name: 'Sea Rd Rojak',\n    amount: 0\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      hawkers = _useState2[0],\n      setHawkers = _useState2[1];\n\n  useEffect(() => {\n    setHawkers(hawkers => hawkers.map(el => {\n      let displayAmount = TransactionContract.totalAmountFor(el.name).toNumber();\n      return Object.assign({}, el, {\n        amount: displayAmount\n      });\n    }));\n  }, []);\n\n  let handleOffer = (hawker, amount) => {\n    TransactionContract.setAmount(hawker, amount);\n    let displayAmount = TransactionContract.totalAmountFor(hawker).toNumber();\n    setHawkers(hawkers => hawkers.map(el => el.name === hawker ? Object.assign({}, el, {\n      amount: displayAmount\n    }) : el));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Transaction\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"Transaction-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"Transaction-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Welcome to Ethereum\")), React.createElement(\"p\", {\n    className: \"Transaction-intro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Transaction in Ethereum\"), React.createElement(\"div\", {\n    className: \"Transaction-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(ShowTransactions, {\n    hawkers: hawkers,\n    offer: handleOffer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })));\n}\n\nexport default Transaction;","map":{"version":3,"sources":["/Users/ericaong/Desktop/cxa/Edge/src/Transaction.js"],"names":["React","useState","useEffect","TransactionContract","ShowTransactions","Transaction","props","name","amount","hawkers","setHawkers","map","el","displayAmount","totalAmountFor","toNumber","Object","assign","handleOffer","hawker","setAmount"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,SAA3B,QAA4C,OAA5C,C,CACA;;AACA,OAAO,mBAAP;AACA,SAASC,mBAAT,QAAoC,SAApC;AACA,SAAQC,gBAAR,QAAgC,oBAAhC;;AAEA,SAASC,WAAT,CAAsBC,KAAtB,EAA6B;AAAA,kBAEIL,QAAQ,CAAC,CAAC;AAACM,IAAAA,IAAI,EAAC,+BAAN;AAAsCC,IAAAA,MAAM,EAAC;AAA7C,GAAD,EAAkD;AAACD,IAAAA,IAAI,EAAC,kBAAN;AAAyBC,IAAAA,MAAM,EAAC;AAAhC,GAAlD,EAAsF;AAACD,IAAAA,IAAI,EAAC,eAAN;AAAsBC,IAAAA,MAAM,EAAC;AAA7B,GAAtF,EAAuH;AAACD,IAAAA,IAAI,EAAC,mBAAN;AAA0BC,IAAAA,MAAM,EAAC;AAAjC,GAAvH,EAA4J;AAACD,IAAAA,IAAI,EAAC,cAAN;AAAqBC,IAAAA,MAAM,EAAC;AAA5B,GAA5J,CAAD,CAFZ;AAAA;AAAA,MAEpBC,OAFoB;AAAA,MAEVC,UAFU;;AAIzBR,EAAAA,SAAS,CAAC,MAAI;AACVQ,IAAAA,UAAU,CAACD,OAAO,IAAIA,OAAO,CAACE,GAAR,CACjBC,EAAD,IAAM;AACF,UAAIC,aAAa,GAACV,mBAAmB,CAACW,cAApB,CAAmCF,EAAE,CAACL,IAAtC,EAA4CQ,QAA5C,EAAlB;AACA,aAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBL,EAAjB,EAAoB;AAACJ,QAAAA,MAAM,EAACK;AAAR,OAApB,CAAP;AACH,KAJiB,CAAZ,CAAV;AAOH,GARQ,EAQP,EARO,CAAT;;AAWJ,MAAIK,WAAW,GAAG,CAACC,MAAD,EAAQX,MAAR,KAAmB;AACjCL,IAAAA,mBAAmB,CAACiB,SAApB,CAA8BD,MAA9B,EAAqCX,MAArC;AACA,QAAIK,aAAa,GAACV,mBAAmB,CAACW,cAApB,CAAmCK,MAAnC,EAA2CJ,QAA3C,EAAlB;AACAL,IAAAA,UAAU,CAACD,OAAO,IAAIA,OAAO,CAACE,GAAR,CACnBC,EAAD,IAAMA,EAAE,CAACL,IAAH,KAAUY,MAAV,GAAkBH,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiBL,EAAjB,EAAoB;AAACJ,MAAAA,MAAM,EAACK;AAAR,KAApB,CAAlB,GAA8DD,EADhD,CAAZ,CAAV;AAID,GAPH;;AAUI,SACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADF,EAIE;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJF,EAOE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEH,OAA3B;AAAoC,IAAA,KAAK,EAAES,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CADF;AAaH;;AAGD,eAAeb,WAAf","sourcesContent":["import React, { useState , useEffect } from 'react';\n// import logo from './logo.svg';\nimport './Transaction.css';\nimport { TransactionContract } from \"./setup\";\nimport {ShowTransactions } from \"./ShowTransactions\";\n\nfunction Transaction (props) {\n  \n    let [hawkers , setHawkers] = useState([{name:\"Swee Boon Keat's Chicken Rice\",amount:0}, {name:\"Julianne's Laksa\",amount:0}, {name:\"Lee's Banmian\",amount:0}, {name:'ECP Prawn Noodles',amount:0}, {name:'Sea Rd Rojak',amount:0}])\n   \n    useEffect(()=>{\n        setHawkers(hawkers => hawkers.map(\n            (el)=>{\n                let displayAmount=TransactionContract.totalAmountFor(el.name).toNumber()\n                return Object.assign({},el,{amount:displayAmount})\n            }\n          \n          ))\n    },[])\n\n\nlet handleOffer = (hawker,amount) => {\n    TransactionContract.setAmount(hawker,amount)\n    let displayAmount=TransactionContract.totalAmountFor(hawker).toNumber()\n    setHawkers(hawkers => hawkers.map(\n      (el)=>el.name===hawker? Object.assign({},el,{amount:displayAmount}):el\n    \n    ))\n  }\n\n  \n    return (\n      <div className=\"Transaction\">\n        <header className=\"Transaction-header\">\n          <h1 className=\"Transaction-title\">Welcome to Ethereum</h1>\n        </header>\n        <p className=\"Transaction-intro\">\n          Transaction in Ethereum\n        </p>\n        <div className=\"Transaction-table\">\n          <ShowTransactions hawkers={hawkers} offer={handleOffer}/>\n        </div>\n      </div>\n    );\n}\n\n\nexport default Transaction;"]},"metadata":{},"sourceType":"module"}