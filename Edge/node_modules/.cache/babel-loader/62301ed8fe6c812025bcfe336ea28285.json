{"ast":null,"code":"var validate = require('validate.js');\n\nvalidate.validators.features = function (value\n/*, options, key, attributes */\n) {\n  if (typeof value === 'undefined' || value === null) return value;\n  if (!validate.isArray(value)) return 'needs to be a list of features';\n\n  for (var i = value.length - 1; i >= 0; i--) {\n    if (validate(value[i], feature)) return 'should have group and value keys';\n  }\n};\n\nvalidate.validators.isArray = function (value\n/*, options, key, attributes */\n) {\n  if (!validate.isArray(value)) return 'needs to be an array';\n};\n\nvalidate.validators.isObject = function (value\n/*, options, key, attributes */\n) {\n  if (!validate.isArray(value)) return 'needs to be an array';\n};\n\nvar feature = {\n  group: {\n    presence: true\n  },\n  value: {\n    presence: true\n  }\n};\nvar engagement = {\n  'label': {\n    presence: true\n  },\n  'content': {\n    presence: true\n  },\n  'boost': {\n    presence: false,\n    numericality: true\n  },\n  'features': {\n    features: true\n  }\n};\nvar impression = {\n  'content_list': {\n    presence: true,\n    isArray: true\n  },\n  'boost': {\n    presence: false,\n    numericality: true\n  },\n  'features': {\n    features: true\n  }\n};\nmodule.exports = {\n  engagementSpec: engagement,\n  impressionSpec: impression\n};","map":null,"metadata":{},"sourceType":"script"}