{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (text, entities, options) {\n  var options = (0, _clone2.default)(options || {});\n  options.hashtagClass = options.hashtagClass || DEFAULT_HASHTAG_CLASS;\n  options.hashtagUrlBase = options.hashtagUrlBase || 'https://twitter.com/search?q=%23';\n  options.cashtagClass = options.cashtagClass || DEFAULT_CASHTAG_CLASS;\n  options.cashtagUrlBase = options.cashtagUrlBase || 'https://twitter.com/search?q=%24';\n  options.listClass = options.listClass || DEFAULT_LIST_CLASS;\n  options.usernameClass = options.usernameClass || DEFAULT_USERNAME_CLASS;\n  options.usernameUrlBase = options.usernameUrlBase || 'https://twitter.com/';\n  options.listUrlBase = options.listUrlBase || 'https://twitter.com/';\n  options.htmlAttrs = (0, _extractHtmlAttrsFromOptions2.default)(options);\n  options.invisibleTagAttrs = options.invisibleTagAttrs || \"style='position:absolute;left:-9999px;'\"; // remap url entities to hash\n\n  var urlEntities, i, len;\n\n  if (options.urlEntities) {\n    urlEntities = {};\n\n    for (i = 0, len = options.urlEntities.length; i < len; i++) {\n      urlEntities[options.urlEntities[i].url] = options.urlEntities[i];\n    }\n\n    options.urlEntities = urlEntities;\n  }\n\n  var result = '';\n  var beginIndex = 0; // sort entities by start index\n\n  entities.sort(function (a, b) {\n    return a.indices[0] - b.indices[0];\n  });\n  var nonEntity = options.htmlEscapeNonEntities ? _htmlEscape2.default : function (text) {\n    return text;\n  };\n\n  for (var i = 0; i < entities.length; i++) {\n    var entity = entities[i];\n    result += nonEntity(text.substring(beginIndex, entity.indices[0]));\n\n    if (entity.url) {\n      result += (0, _linkToUrl2.default)(entity, text, options);\n    } else if (entity.hashtag) {\n      result += (0, _linkToHashtag2.default)(entity, text, options);\n    } else if (entity.screenName) {\n      result += (0, _linkToMentionAndList2.default)(entity, text, options);\n    } else if (entity.cashtag) {\n      result += (0, _linkToCashtag2.default)(entity, text, options);\n    }\n\n    beginIndex = entity.indices[1];\n  }\n\n  result += nonEntity(text.substring(beginIndex, text.length));\n  return result;\n};\n\nvar _clone = require('./lib/clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _extractHtmlAttrsFromOptions = require('./extractHtmlAttrsFromOptions');\n\nvar _extractHtmlAttrsFromOptions2 = _interopRequireDefault(_extractHtmlAttrsFromOptions);\n\nvar _htmlEscape = require('./htmlEscape');\n\nvar _htmlEscape2 = _interopRequireDefault(_htmlEscape);\n\nvar _linkToCashtag = require('./linkToCashtag');\n\nvar _linkToCashtag2 = _interopRequireDefault(_linkToCashtag);\n\nvar _linkToHashtag = require('./linkToHashtag');\n\nvar _linkToHashtag2 = _interopRequireDefault(_linkToHashtag);\n\nvar _linkToUrl = require('./linkToUrl');\n\nvar _linkToUrl2 = _interopRequireDefault(_linkToUrl);\n\nvar _linkToMentionAndList = require('./linkToMentionAndList');\n\nvar _linkToMentionAndList2 = _interopRequireDefault(_linkToMentionAndList);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Default CSS class for auto-linked lists (along with the url class)\n\n\nvar DEFAULT_LIST_CLASS = 'tweet-url list-slug'; // Default CSS class for auto-linked usernames (along with the url class)\n// Copyright 2018 Twitter, Inc.\n// Licensed under the Apache License, Version 2.0\n// http://www.apache.org/licenses/LICENSE-2.0\n\nvar DEFAULT_USERNAME_CLASS = 'tweet-url username'; // Default CSS class for auto-linked hashtags (along with the url class)\n\nvar DEFAULT_HASHTAG_CLASS = 'tweet-url hashtag'; // Default CSS class for auto-linked cashtags (along with the url class)\n\nvar DEFAULT_CASHTAG_CLASS = 'tweet-url cashtag';\nmodule.exports = exports['default'];","map":null,"metadata":{},"sourceType":"script"}