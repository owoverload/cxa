{"ast":null,"code":"'use strict';\n\nvar Class = require('../util/class'),\n    Grammar = require('./grammar');\n\nvar Error = Class({\n  initialize: function (code, params, message) {\n    this.code = code;\n    this.params = Array.prototype.slice.call(params);\n    this.message = message;\n  },\n  toString: function () {\n    return this.code + ':' + this.params.join(',') + ':' + this.message;\n  }\n});\n\nError.parse = function (message) {\n  message = message || '';\n  if (!Grammar.ERROR.test(message)) return new Error(null, [], message);\n  var parts = message.split(':'),\n      code = parseInt(parts[0]),\n      params = parts[1].split(','),\n      message = parts[2];\n  return new Error(code, params, message);\n}; // http://code.google.com/p/cometd/wiki/BayeuxCodes\n\n\nvar errors = {\n  versionMismatch: [300, 'Version mismatch'],\n  conntypeMismatch: [301, 'Connection types not supported'],\n  extMismatch: [302, 'Extension mismatch'],\n  badRequest: [400, 'Bad request'],\n  clientUnknown: [401, 'Unknown client'],\n  parameterMissing: [402, 'Missing required parameter'],\n  channelForbidden: [403, 'Forbidden channel'],\n  channelUnknown: [404, 'Unknown channel'],\n  channelInvalid: [405, 'Invalid channel'],\n  extUnknown: [406, 'Unknown extension'],\n  publishFailed: [407, 'Failed to publish'],\n  serverError: [500, 'Internal server error']\n};\n\nfor (var name in errors) (function (name) {\n  Error[name] = function () {\n    return new Error(errors[name][0], arguments, errors[name][1]).toString();\n  };\n})(name);\n\nmodule.exports = Error;","map":null,"metadata":{},"sourceType":"script"}